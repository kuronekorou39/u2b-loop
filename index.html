<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>U2 Looper</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- „Éò„ÉÉ„ÉÄ„ÉºÔºà„Çø„Ç§„Éà„É´ + „É¨„Ç§„Ç¢„Ç¶„ÉàÂàáÊõø + URLÂÖ•Âäõ„Éà„Ç∞„É´Ôºâ -->
        <header class="header">
            <h1>U2 Looper</h1>
            <div class="header-buttons">
                <button id="layoutBtn" class="icon-btn" title="„É¨„Ç§„Ç¢„Ç¶„ÉàÂàáÊõø">‚äü</button>
                <button id="historyBtn" class="icon-btn" title="Â±•Ê≠¥">‚ü≥</button>
                <button id="toggleUrlBtn" class="icon-btn" title="URLÂ§âÊõ¥">+</button>
            </div>
        </header>

        <!-- URLÂÖ•ÂäõÔºàÊäò„Çä„Åü„Åü„ÅøÔºâ -->
        <div id="urlSection" class="url-section show">
            <input type="text" id="videoUrl" placeholder="YouTube URL">
            <button id="loadBtn">Ë™≠Ëæº</button>
        </div>

        <!-- „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑÔºàÊ®™‰∏¶„Å≥ÂØæÂøúÔºâ -->
        <div class="main-content">
            <!-- Â∑¶„Éë„Éç„É´: ÂãïÁîª + „Ç≥„É≥„Éà„É≠„Éº„É´ -->
            <div class="left-panel">
                <!-- ÂãïÁîª„Éó„É¨„Éº„É§„Éº + „Ç™„Éº„Éê„Éº„É¨„Ç§„Ç≥„É≥„Éà„É≠„Éº„É©„Éº -->
                <div class="player-wrapper" id="playerWrapper">
                    <div id="playerContainer" class="player-container">
                        <div id="player"></div>
                    </div>

                    <!-- „Ç™„Éº„Éê„Éº„É¨„Ç§„Ç≥„É≥„Éà„É≠„Éº„É©„ÉºÔºà„Éï„É´„Çπ„ÇØ„É™„Éº„É≥ÊôÇÔºâ -->
                    <div class="overlay-controls" id="overlayControls">
                        <div class="overlay-gradient"></div>
                        <div class="overlay-content">
                            <!-- „Ç∑„Éº„ÇØ„Éê„Éº -->
                            <div class="overlay-seekbar">
                                <span id="overlayCurrentTime" class="overlay-time">0:00</span>
                                <input type="range" id="overlaySeekbar" class="overlay-seekbar-input" min="0" max="100" value="0" step="0.1">
                                <span id="overlayDuration" class="overlay-time">0:00</span>
                            </div>
                            <!-- „Éú„Çø„É≥È°û -->
                            <div class="overlay-buttons">
                                <button id="overlayPlayPauseBtn" class="overlay-btn play">‚ñ∂</button>
                                <button id="overlayMuteBtn" class="overlay-btn">üîä</button>
                                <select id="overlaySpeedSelect" class="overlay-select">
                                    <option value="0.25">0.25x</option>
                                    <option value="0.5">0.5x</option>
                                    <option value="0.75">0.75x</option>
                                    <option value="1" selected>1x</option>
                                    <option value="1.25">1.25x</option>
                                    <option value="1.5">1.5x</option>
                                    <option value="1.75">1.75x</option>
                                    <option value="2">2x</option>
                                </select>
                                <button id="overlayLoopBtn" class="overlay-btn">‚Üª OFF</button>
                                <button id="overlayExitBtn" class="overlay-btn exit">‚úï</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- „É°„Ç§„É≥„Ç∑„Éº„ÇØ„Éê„Éº + ÊôÇÈñì -->
                <div class="seekbar-section">
                    <span id="currentTime">0:00</span>
                    <input type="range" id="seekbar" min="0" max="100" value="0" step="0.1">
                    <span id="duration">0:00</span>
                </div>

                <!-- „Ç≥„É≥„Éà„É≠„Éº„É´Ë°åÔºöÂÜçÁîü + ÈÄüÂ∫¶ + „Éü„É•„Éº„Éà + ÂèçËª¢ -->
                <div class="controls-row">
                    <button id="playPauseBtn" class="play-btn">‚ñ∂</button>
                    <select id="speedSelect" title="ÂÜçÁîüÈÄüÂ∫¶">
                        <option value="0.25">0.25x</option>
                        <option value="0.5">0.5x</option>
                        <option value="0.75">0.75x</option>
                        <option value="1" selected>1x</option>
                        <option value="1.25">1.25x</option>
                        <option value="1.5">1.5x</option>
                        <option value="1.75">1.75x</option>
                        <option value="2">2x</option>
                    </select>
                    <button id="muteBtn" class="mute-btn" title="„Éü„É•„Éº„Éà">üîä</button>
                    <div class="flip-buttons">
                        <button id="flipHorizontalBtn" class="flip-btn" title="Â∑¶Âè≥ÂèçËª¢">‚Üî</button>
                        <button id="flipVerticalBtn" class="flip-btn" title="‰∏ä‰∏ãÂèçËª¢">‚Üï</button>
                    </div>
                    <button id="fullscreenBtn" class="fullscreen-btn" title="„Éï„É´„Çπ„ÇØ„É™„Éº„É≥">‚õ∂</button>
                    <button id="ytControlsBtn" class="yt-controls-btn" title="YT„Ç≥„É≥„Éà„É≠„Éº„É©„ÉºË°®Á§∫">üéõ</button>
                </div>
            </div>

            <!-- Âè≥„Éë„Éç„É´: A-BÂå∫Èñì„É´„Éº„Éó -->
            <div class="right-panel">
                <div class="loop-section">
            <!-- „É´„Éº„Éó„Éà„Ç∞„É´ -->
            <div class="loop-header">
                <button id="loopToggleBtn" class="loop-toggle-btn">
                    <span class="loop-icon">‚Üª</span>
                    <span class="loop-text">„É´„Éº„Éó OFF</span>
                </button>
            </div>
            <div class="gap-control">
                <span id="gapCountdown" class="gap-countdown"></span>
                <span class="gap-label">Á©∫ÁôΩ</span>
                <div class="gap-buttons">
                    <button class="gap-btn active" data-gap="0">0</button>
                    <button class="gap-btn" data-gap="2">2</button>
                    <button class="gap-btn" data-gap="5">5</button>
                    <button class="gap-btn" data-gap="10">10</button>
                    <button class="gap-btn" data-gap="30">30</button>
                </div>
            </div>

            <!-- ABÂå∫Èñì„Ç∑„Éº„ÇØ„Éê„Éº -->
            <div class="ab-seekbar-container">
                <div id="abSeekbar" class="ab-seekbar">
                    <div id="abRegion" class="ab-region"></div>
                    <div id="abCurrentPos" class="ab-current-pos"></div>
                    <div id="pointA" class="ab-point point-a"></div>
                    <div id="pointB" class="ab-point point-b"></div>
                </div>
            </div>

            <!-- ABË®≠ÂÆö„Ç´„Éº„Éâ -->
            <div class="ab-cards">
                <div class="ab-card card-a">
                    <div class="ab-card-header">
                        <span class="ab-label">A</span>
                        <span class="ab-card-title">ÈñãÂßã</span>
                    </div>
                    <input type="text" id="pointAInput" class="ab-time-input" placeholder="0:00.000">
                    <div class="ab-controls">
                        <button id="pointAMinus" class="step-btn">‚àí</button>
                        <button id="pointAPlus" class="step-btn">+</button>
                        <select id="stepSelectA" class="step-select">
                            <option value="0.001">0.001s</option>
                            <option value="0.01">0.01s</option>
                            <option value="0.1" selected>0.1s</option>
                            <option value="1">1s</option>
                        </select>
                    </div>
                    <div class="ab-action-buttons">
                        <button id="setPointABtn" class="set-current-btn">ÁèæÂú®‰ΩçÁΩÆ„Çí„Çª„ÉÉ„Éà</button>
                        <button id="resetPointABtn" class="reset-point-btn">„É™„Çª„ÉÉ„Éà</button>
                    </div>
                </div>
                <div class="ab-card card-b">
                    <div class="ab-card-header">
                        <span class="ab-label">B</span>
                        <span class="ab-card-title">ÁµÇ‰∫Ü</span>
                    </div>
                    <input type="text" id="pointBInput" class="ab-time-input" placeholder="0:00.000">
                    <div class="ab-controls">
                        <button id="pointBMinus" class="step-btn">‚àí</button>
                        <button id="pointBPlus" class="step-btn">+</button>
                        <select id="stepSelectB" class="step-select">
                            <option value="0.001">0.001s</option>
                            <option value="0.01">0.01s</option>
                            <option value="0.1" selected>0.1s</option>
                            <option value="1">1s</option>
                        </select>
                    </div>
                    <div class="ab-action-buttons">
                        <button id="setPointBBtn" class="set-current-btn">ÁèæÂú®‰ΩçÁΩÆ„Çí„Çª„ÉÉ„Éà</button>
                        <button id="resetPointBBtn" class="reset-point-btn">„É™„Çª„ÉÉ„Éà</button>
                    </div>
                </div>
            </div>

            <!-- Â±•Ê≠¥„Å´‰øùÂ≠ò -->
            <button id="saveHistoryBtn" class="save-history-btn">üìå Â±•Ê≠¥„Å´‰øùÂ≠ò</button>
            </div>
        </div>
        </div>

    </div>

    <!-- Â±•Ê≠¥„É¢„Éº„ÉÄ„É´ -->
    <div id="historyModal" class="history-modal">
        <div class="history-modal-content">
            <div class="history-modal-header">
                <h2>Â±•Ê≠¥</h2>
                <button id="closeHistoryBtn" class="history-close-btn">‚úï</button>
            </div>
            <div class="history-toolbar">
                <label class="history-import-btn">
                    üìÇ Ë™≠Ëæº
                    <input type="file" id="importHistoryInput" accept=".json" hidden>
                </label>
                <button id="exportSelectBtn" class="history-export-btn">üíæ ‰øùÂ≠ò</button>
                <button id="clearAllHistoryBtn" class="history-clear-btn">üóë ÂÖ®ÂâäÈô§</button>
            </div>
            <div class="history-toolbar select-mode-toolbar" style="display: none;">
                <div class="select-mode-left">
                    <button id="selectAllBtn" class="select-all-btn">ÂÖ®ÈÅ∏Êäû</button>
                    <button id="deselectAllBtn" class="select-all-btn">ÂÖ®Ëß£Èô§</button>
                </div>
                <span id="selectedCount" class="selected-count">0‰ª∂ÈÅ∏Êäû‰∏≠</span>
                <div class="select-mode-buttons">
                    <button id="cancelSelectBtn" class="select-cancel-btn">„Ç≠„É£„É≥„Çª„É´</button>
                    <button id="exportSelectedBtn" class="select-export-btn" disabled>‰øùÂ≠ò</button>
                </div>
            </div>
            <div id="historyList" class="history-list">
                <!-- Â±•Ê≠¥„Ç¢„Ç§„ÉÜ„É†„Åå„Åì„Åì„Å´ÂãïÁöÑ„Å´ËøΩÂä†„Åï„Çå„Çã -->
            </div>
        </div>
    </div>

    <script src="https://www.youtube.com/iframe_api"></script>
    <script src="app.js"></script>
</body>
</html>
